{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container mt-5">
    <!-- Profile update card for editing user information -->
    <div class="profile-update-card content-section">
        <h2 class="text-center mb-4 text-switch">Edit Your Profile</h2>

        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <fieldset class="form-border p-3 mb-4 rounded" id="profile-update-form">
                <legend class="text-center bnt text-switch mb-3">Personal Information</legend>
                {{ user_form|crispy }}
                <!-- Render user update form -->
                {{ account_form|crispy }}
                <!-- Render account update form -->
            </fieldset>
            <div class="text-center">
                <button type="submit" class="btn">Save Changes</button>
            </div>
        </form>

        <div class="text-center mt-3">
            <a href="{% url 'account' %}" class="btn" aria-label="Cancel profile update">Cancel</a>
        </div>

        <!-- Feedback area -->
        <div id="feedback" class="mt-3">
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-info text-switch" role="alert text-switch">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
        </div>
         <!-- Notification about username change -->
         <div class="user-profile-message">
            <p><span class="important-text">Important:</span> If you change your username, please remember that this change will take effect in the system. 
                Ensure you log in with your new username after saving the changes. 
                Also, do not forget to always provide your correct email address; it's how we can contact you regarding any issues or important updates.
            </p>
        </div>
    </div>
</div>

{% endblock content %}